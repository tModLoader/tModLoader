Notes:

- Add '(float)player.meleeAddDamage' to Player.GetWeaponDamage(Item)
- Improve Terraria.Social.SocialAPI server-client conditionals on non-tml steps.
- Some 'Id > 0 && Id < Count' things may need to be adjusted
- Above, around NPCLoot

Weird removed patches:

// Utils.cs
- OLD		for (int m = 0; m < array3.Length && num4 + array3[m].Length <= num3; m++) {
- NEW		for (int m = 0; m < array3.Length; m++) {
+ PATCH	for (int m = 0; num4 == 0 || m < array3.Length && num4 + array3[m].Length <= num3; m++) {

Failed Patches:

// ShopHelper.cs:
@@ -16,10 +17,10 @@
 		private float _currentPriceAdjustment;
 		private NPC _currentNPCBeingTalkedTo;
 		private Player _currentPlayerTalking;
-		private const float likeValue = 0.94f;
+		internal const float likeValue = 0.94f;
-		private const float dislikeValue = 1.06f;
+		internal const float dislikeValue = 1.06f;
-		private const float loveValue = 0.88f;
+		internal const float loveValue = 0.88f;
-		private const float hateValue = 1.12f;
+		internal const float hateValue = 1.12f;
 
 		public ShoppingSettings GetShoppingSettings(Player player, NPC npc) {
 			ShoppingSettings shoppingSettings = default(ShoppingSettings);
@@ -144,7 +156,7 @@
 			return priceAdjustment;
 		}
 
-		private static string BiomeNameByKey(int biomeID) {
+		public static string BiomeNameByKey(int biomeID) {
 			string text = null;
 			switch (biomeID) {
 				case 1:
@@ -158,10 +159,24 @@
 			return priceAdjustment;
 		}
 

+			string result = Language.GetTextValue("TownNPCMoodBiomes." + text);
+			if (biomeID >= PrimaryBiomeID.Count) {
+				string key = LoaderManager.Get<BiomeLoader>().Get(biomeID).DisplayName.Key;
+				result = Language.GetTextValue(key);
+			}
+
+			return result;

//NPC.cs:
@@ -59968,6 +60068,7 @@
 			if (type == 551)
 				itemType = 3860;

 
+			NPCLoader.BossBag(this, ref itemType);
 			DropItemInstanced(position, base.Size, itemType);

 		}
 