--- src/TerrariaNetCore/Terraria/GameContent/Tile_Entities/TEHatRack.cs
+++ src/tModLoader/Terraria/GameContent/Tile_Entities/TEHatRack.cs
@@ -4,11 +_,12 @@
 using Terraria.Audio;
 using Terraria.DataStructures;
 using Terraria.GameInput;
+using Terraria.ModLoader.IO;
 using Terraria.UI;
 
 namespace Terraria.GameContent.Tile_Entities
 {
-	public class TEHatRack : TileEntity
+	public sealed partial class TEHatRack : TileEntity
 	{
 		private static byte _myEntityID;
 		private const int MyTileID = 475;
@@ -96,8 +_,8 @@
 			for (int i = 0; i < 2; i++) {
 				Item item = _items[i];
 				if (!item.IsAir) {
-					writer.Write((short)item.netID);
-					writer.Write(item.prefix);
+					ItemIO.WriteShortVanillaID(item, writer);
+					ItemIO.WriteByteVanillaPrefix(item, writer);
 					writer.Write((short)item.stack);
 				}
 			}
@@ -105,8 +_,8 @@
 			for (int j = 0; j < 2; j++) {
 				Item item2 = _dyes[j];
 				if (!item2.IsAir) {
-					writer.Write((short)item2.netID);
-					writer.Write(item2.prefix);
+					ItemIO.WriteShortVanillaID(item2, writer);
+					ItemIO.WriteByteVanillaPrefix(item2, writer);
 					writer.Write((short)item2.stack);
 				}
 			}
