Notes:

- Add DrawPlayer_38_EyebrellaCloud player draw layer
- BossBarLoader.InsertMenu needs checking
- Add 332, 333, 334 to BuffLoader.CanBeCleared's set
- Ensure that 'master' field is reset correctly in PopupText.cs. Is it even from TML?

Failed Patches:

1 - Main.cs

@@ -39094,10 +40174,47 @@
 					if (num107 == 3)
 						num109 = 2;
 
+					string supportMessage = Language.GetTextValue("tModLoader.PatreonSupport");
+					string patreonShortURL = @"patreon.com/tModLoader";
+					bool showPatreon = !Steam.IsSteamApp;
+					string drawVersion = versionNumber + Environment.NewLine + ModLoader.ModLoader.versionedName + (showPatreon ? Environment.NewLine + supportMessage : "");
-					Vector2 origin2 = FontAssets.MouseText.Value.MeasureString(versionNumber);
+					Vector2 origin2 = FontAssets.MouseText.Value.MeasureString(drawVersion);
 					origin2.X *= 0.5f;
 					origin2.Y *= 0.5f;
+
+					if (menuMode == 0 && !ModCompile.DeveloperMode) {
+						const string text = "Enable Developer Mode";
+						// measure and draw text from bottom right
+						var textSize = FontAssets.MouseText.Value.MeasureString(text);
+						var pos = new Vector2(screenWidth - 10f + num108, screenHeight - 2f + num109);
+						var d_color = color12;
+						if (num107 == 4) // final draw
+						{
+							var rect = new Rectangle((int)(pos.X - textSize.X), (int)(pos.Y - textSize.Y), (int)textSize.X, (int)textSize.Y);
+							bool mouseover = rect.Contains(mouseX, mouseY);
+							d_color = mouseover ? highVersionColor : new Color(120, 120, 120, 76);
+							if (mouseover && mouseLeftRelease && mouseLeft) {
+								SoundEngine.PlaySound(SoundID.MenuOpen);
+								menuMode = Interface.modSourcesID;
+							}
+						}
+						spriteBatch.DrawString(FontAssets.MouseText.Value, text, pos, d_color, 0f, textSize, 1f, SpriteEffects.None, 0f);
+					}
+
-					spriteBatch.DrawString(FontAssets.MouseText.Value, versionNumber, new Vector2(origin2.X + (float)num108 + 10f, (float)screenHeight - origin2.Y + (float)num109 - 2f), color12, 0f, origin2, 1f, SpriteEffects.None, 0f);
+					spriteBatch.DrawString(FontAssets.MouseText.Value, drawVersion, new Vector2(origin2.X + num108 + 10f, screenHeight - origin2.Y + num109 - 2f), color12, 0f, origin2, 1f, SpriteEffects.None, 0f);
+					if (num107 == 4)
+						color12 = new Microsoft.Xna.Framework.Color(127, 191, 191, 76);
+
+					if (showPatreon) {
+						var font = FontAssets.MouseText.Value;
+						origin2 = font.MeasureString(supportMessage);
+						Vector2 urlSize = font.MeasureString(patreonShortURL);
+						spriteBatch.DrawString(font, patreonShortURL, new Vector2(origin2.X + num108 + 10f, screenHeight - origin2.Y + num109 - 2f), color12, 0f, Vector2.Zero, 1f, SpriteEffects.None, 0f);
+						if (num107 == 4 && mouseLeftRelease && mouseLeft && new Microsoft.Xna.Framework.Rectangle((int)origin2.X + 10, screenHeight - (int)urlSize.Y - 2, (int)urlSize.X, (int)origin2.Y).Contains(new Microsoft.Xna.Framework.Point(mouseX, mouseY)) && hasFocus) {
+							SoundEngine.PlaySound(SoundID.MenuOpen);
+							Utils.OpenToURL("https://www.patreon.com/tModLoader");
+						}
+					}
 				}
 			}
 